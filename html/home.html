<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="icon" href="https://i.imgur.com/XjWCCeV.png" />
  <title>LonelyBall Media</title>
  <meta property="og:title" content="Home Page" />
  <meta property="og:site_name" content="LonelyBall Media" />
  <meta property="og:description"
    content="Welcome to LonelyBall Media! We have a great selection of graphic novels and stories for you to read. Dive into our imaginative worlds and enjoy reading our engaging books." />
  <meta property="og:image" content="https://i.imgur.com/XjWCCeV.png" />
  <meta name="theme-color" content="#cbc3e3" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.1.1/css/all.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>
<style>
  body {
    background-size: 400% 400%;
    margin: 0;
    background-color: #121212;
    font-family: 'Nunito';
    font-size: 22px;
  }

  .flex {
    display: flex;
    justify-content: center;
  }

 /* .topnav {
    width: 100%;
    background-color: #c499cc;
  }

  .topnav img {
    text-align: center;
    border-radius: 50%;
    transition-duration: 0.3s;
    display: inline-block;
    width: 60px;
    height: 60px;
    position: absolute;
    margin: 2px;
    right: 0;
    z-index: 0;
  }

  .topnav img:hover {
    transform: scale(1.1);
    border-radius: 40%;
    animation: fade-in-out 1s ease-in-out infinite;
  }

  @keyframes fade-in-out {
    0% {
      opacity: 1;
    }

    50% {
      opacity: 0.5;
    }

    100% {
      opacity: 1;
    }
  }*/


.topnav {
  background-color: #2196F3;
  overflow: hidden;
}

/* Style the links inside the navigation bar */
.topnav a {
  float: left;
  display: block;
  color: #ffffff;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

/* Change the color of links on hover */
.topnav a:hover {
  background-color: #1976D2;
  color: #ffffff;
}

.topnav a.active {
  background-color: #1976D2;
  color: white;
}

/* Hide the link that should open and close the topnav on small screens */
.topnav .icon {
  display: none;
}

@media screen and (max-width: 600px) {
  .topnav a:not(:first-child) {display: none;}
  .topnav a.icon {
    float: right;
    display: block;
  }
}

/* The "responsive" class is added to the topnav with JavaScript when the user clicks on the icon. This class makes the topnav look good on small screens (display the links vertically instead of horizontally) */
@media screen and (max-width: 600px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive a.icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
}


  .text {
    padding-bottom: 25px;
  }

 .text h1 {
    text-align: center;
    color: #2196F3;
  }

  .text p {
    text-align: center;
    color: #FFFFFF;
  }

  * {
    box-sizing: border-box
  }

  /* Slideshow container */
  .slideshow-container {
    max-width: 100%;
    position: relative;
    margin: 0 auto;
  }

  .mySlides img {
    display: block;
    width: 100%;
    height: 55%;
  }

  .fade {
    animation-name: fade;
    animation-duration: 1.5s;
  }

  @keyframes fade {
    from {
      opacity: .4
    }

    to {
      opacity: 1
    }
  }

  .media-scroller {
    --gap: 16px;

    box-sizing: border-box;
    padding: var(--gap);
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 21%;
    gap: var(--gap);

    overflow-x: auto;
    overscroll-behavior-inline: contain;
    overflow-y: hidden;
  }

  .media-scroller img {
    border-radius: 16px;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .snaps-inline {
    scroll-snap-type: inline mandatory;
    scroll-padding-inline: var(--gap);
  }

  .snaps-inline>* {
    scroll-snap-align: start;
  }

  .media-scroller img:hover {
    cursor: pointer;
    opacity: 0.5;
    transition: 0.5s;
  }

.banner {
  width: 100%;
  height: 500px;
  display: flex;
  justify-content: center;
  margin: 10px 0 10px 0;
}

.banner img {
  max-width: 100%;
  height: auto;
}

@media screen and (max-width: 600px) {
.banner {
    height: 250px
  }

  .banner img {
    height: 250px
  }
}
</style>

<body>

<div class="topnav" id="myTopnav">
  <a href="#" class="active"><i class="fa-solid fa-house"></i> Home</a>
  <a href="/explore"><i class="fa-solid fa-magnifying-glass"></i> Explore</a>

<a id="account" href="#"><i class="fa-solid fa-user"></i> My Account</a>
        <a id="loso" href="#">$$Log$$</a>

   <a href="https://cash.app/$PerezDeDios" target="_blank"><i class="fa-solid fa-coins"></i> Donate</a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa-solid fa-bars"></i>
  </a>
</div>

<script>
function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}
</script>

  <script> document.getElementById("loso").addEventListener("click", async (e) => {
      if (e.target.innerText === "<i class="fa-solid fa-right-from-bracket"></i> Sign out") {
        alert("Signing you out!");
        localStorage.removeItem("user");
        window.location.reload();
      }
    });
</script>

  <script>
    if (typeof Storage !== "undefined") {
      if (localStorage.user) {
    document.getElementById("loso").innerHTML = "<i class="fa-solid fa-right-from-bracket"></i> Sign out";

        let data = JSON.parse(localStorage.user);
        document.getElementById("account").href = `/profile/${data.id}`;
        document.getElementById("userIcon").src = `${data.avatar}`;
      } else {
        document.getElementById("loso").innerHTML = "<i class="fa-solid fa-right-to-bracket"></i> Sign in";
        document.getElementById("loso").href = "/access-portal";
      }
    } else {
      document.getElementById("loso").innerHTML = "<span>&empty;</span>";
      document.getElementById("account").innerHTML = "<span>&empty;</span>";
    }
  </script>

  <script>
    function Dropdown() {
      let drop = document.getElementById("drop")
      if (drop.style.display === "block") {
        drop.style.display = "none";
      } else {
        drop.style.display = "block";
      }
    }
  </script>

  <div class="slideshow-container">
    <div class="mySlides fade">
      <img src="https://www.w3schools.com/howto/img_lights_wide.jpg">
    </div>
    <div class="mySlides fade">
      <img src="https://www.w3schools.com/howto/img_lights_wide.jpg">
    </div>
    <div class="mySlides fade">
      <img src="https://www.w3schools.com/howto/img_snow_wide.jpg">
    </div>
  </div>

  <script>
    let slideIndex = 0;
    showSlides();

    function showSlides() {
      let i;
      let slides = document.getElementsByClassName("mySlides");
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > slides.length) { slideIndex = 1 }
      slides[slideIndex - 1].style.display = "block";
      setTimeout(showSlides, 5000); // Change image every 5 seconds
    }
  </script>

  <div class="text">
    <h1>About</h1>
    <p>
      Welcome to LonelyBall Media! We have a great selection of graphic novels and stories for you to read. Dive into
      our imaginative worlds and enjoy reading our engaging books.
    </p></div>

  <div class="text">
    <h1><i class="fa-solid fa-book-open-cover"></i> Latest Chapters</h1>
  </div>

  <div id="latests" class="media-scroller snaps-inline"></div>

<hr style="height:6px;border-width:0;color:#2196F3;background-color:#2196F3">
<hr style="height:6px;border-width:0;color:#2196F3;background-color:#2196F3;margin-top:10px">


  <div class="text">
    <h1><i class="fa-solid fa-star"></i> Most Favorited</h1>
  </div>

  <div id="favoritedBooks" class="media-scroller snaps-inline"></div>

<hr style="height:6px;border-width:0;color:#2196F3;background-color:#2196F3">
<hr style="height:6px;border-width:0;color:#2196F3;background-color:#2196F3;margin-top:10px">

  <div class="text">
    <h1><i class="fa-solid fa-book-open-reader"></i> Reading Now</h1>
  </div>

  <div id="readingNow" class="media-scroller snaps-inline"></div>

<hr style="height:6px;border-width:0;color:#2196F3;background-color:#2196F3">
<hr style="height:6px;border-width:0;color:#2196F3;background-color:#2196F3;margin-top:10px">

  <script>
    lastest()
    async function lastest() {
      try {
        let books = await fetch('https://novels-production.up.railway.app/data/books/null');
        let latest = await fetch('https://novels-production.up.railway.app/data/latest/null');
        let reading = await fetch('https://novels-production.up.railway.app/data/readingnow/null');

        let json = await books.json();
        let latestJson = await latest.json();
        let readingNow = await reading.json();


        const latestsBooks = document.getElementById("latests");
        const favoritedBooks = document.getElementById("favoritedBooks");
        const readingNowDiv = document.getElementById("readingNow");

        const newArray = [];

        for (const book of json) {
          const bookChapters = book.chapters.map(chapter => chapter.name);
          const hasMatchingChapter = latestJson.some(chapterName => bookChapters?.includes(chapterName));
          if (hasMatchingChapter) {
            newArray.push(book);
          }
        }

        if (newArray[0].length !== 0) {
          for (i = 0; i < newArray.length; i++) {
            latestsBooks.innerHTML += `<a href="https://novels-production.up.railway.app/explore/${newArray[i].name}"><img src="${newArray[i].icon}" alt="${newArray[i].name}"></a>`
          }
        }

        //Most favorited
        let mostFavoritedBooks = json?.sort(function (a, b) {
          return b.followers.length - a.followers.length;
        }).slice(0, 25);

        for (i = 0; i < mostFavoritedBooks.length; i++) {
          favoritedBooks.innerHTML += `<a href="https://novels-production.up.railway.app/explore/${mostFavoritedBooks[i].name}"><img src="${mostFavoritedBooks[i].icon}" alt="${mostFavoritedBooks[i].name}"></a>`
        }

        //readingNow
        const newArray2 = [];

        for (const book of json) {
          const hasMatchingName = readingNow.some(name => book.name === name);
          if (hasMatchingName) {
            newArray2.push(book);
          }
        }

        if (newArray2[0].length !== 0) {
          for (i = 0; i < newArray2.length; i++) {
            readingNowDiv.innerHTML += `<a href="https://novels-production.up.railway.app/explore/${newArray2[i].name}"><img src="${newArray2[i].icon}" alt="${newArray2[i].name}"></a>`
          }
        }
      } catch (err) {
        console.log(err)
      }
    };
  </script>

<div class="banner">
  <a href="/discord"><img src="https://cdn.discordapp.com/attachments/979207303930732554/1117088405331914844/Adobe_Express_20230610_0849250_1.png" alt="Banner Image"></a>
</div>


  <div class="text">
    <h1>Updates | Socials</h1>
    <p>
      Get the latest updates by joining the official <a href="https://discord.gg/j3YamACwPu" target="_blank">Discord
        Server</a>.
      </br>
      Follow Orange Ball's <a href="https://twitter.com/LoneOrangeBall" target="_blank">Twitter</a>.
    </p>
  </div>
</body>

</html>